\ProvidesPackage{beamerthemeTACsy}

\mode<presentation>

\usepackage{pifont}
\usepackage{ifthen}

\def\presentername{Presenter Name}
\def\presenteremail{Presenter E-Mail}
\def\unilogopath{figures/leipzig_university_logo_light.pdf}

\newcommand{\presenter}[2]{
	\def\presentername{#1}
	\def\presenteremail{#2}
}

\newcommand{\insertpresenter}{
	\presentername \\ 
	\presenteremail
}

\newcommand{\unilogo}[1]{
	% if you add a new logo make sure the image has an aspect ratio of 2.856:1 (width:height)
	\ifthenelse{\equal{#1}{unileipzig}}{\def\unilogopath{figures/leipzig_university_logo_light.pdf}}{}
	\ifthenelse{\equal{#1}{tuvienna}}{\def\unilogopath{figures/tu_vienna_logo_light.pdf}}{}
	\ifthenelse{\equal{#1}{unijena}}{\def\unilogopath{figures/jena_university_logo_light.png}}{}
	\ifthenelse{\equal{#1}{univienna}}{\def\unilogopath{figures/vienna_university_logo_light.png}}{}
	\ifthenelse{\equal{#1}{unisheffield}}{\def\unilogopath{figures/sheffield_university_logo_light.pdf}}{}
	\ifthenelse{\equal{#1}{sdu}}{\def\unilogopath{figures/sdu_logo_light.png}}{}
}

\definecolor{tacsydark}{HTML}{28303d}
\definecolor{tacsylight}{HTML}{7f99c2}

% headline colors and fonts
\setbeamercolor{headline}{fg=white,bg=tacsydark}
\setbeamercolor{title in headline}{fg=white}
\setbeamercolor{author in headline}{fg=lightgray}
\setbeamercolor{institute in headline}{fg=lightgray}
\setbeamercolor{logo in headline}{fg=black,bg=lightgray}

% footline colors and fonts
\setbeamercolor{footline}{fg=white,bg=tacsydark}
\setbeamerfont{footline}{size=\normalsize}

% body colors and fonts
\setbeamercolor*{normal text}{fg=black,bg=white}

% block environment
\setbeamercolor*{block body}{bg=white,fg=black}
\setbeamercolor*{block title}{fg=white,bg=tacsydark}
\setbeamerfont{block title}{size=\LARGE,series=\bf}

% example environment
\setbeamercolor*{example title}{fg=white,bg=tacsydark}
\setbeamerfont{example title}{size=\large,series=\bf}

\setbeamertemplate{itemize item}{\color{tacsydark}\ding{108}}
\setbeamertemplate{navigation symbols}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{block begin}{
  \vskip.75ex
  \begin{beamercolorbox}[leftskip=1cm,colsep*=.75ex]{block title}%
    \usebeamerfont*{block title}\insertblocktitle
  \end{beamercolorbox}%
  {\ifbeamercolorempty[bg]{block body}{}{\nointerlineskip\vskip-0.5pt}}%
  \usebeamerfont{block body}%
  \begin{beamercolorbox}[colsep*=.75ex,sep=.75ex,vmode]{block body}%
    \ifbeamercolorempty[bg]{block body}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
  }
  \setbeamertemplate{block end}{
  \end{beamercolorbox}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{headline}{  
  \leavevmode

  \begin{beamercolorbox}[wd=\paperwidth]{headline}
    \begin{columns}[T]
      \begin{column}{.01\paperwidth}
	  \end{column}
      \begin{column}{.25\paperwidth}
		  \centering
		  \includegraphics[width=.85\linewidth]{figures/tacsy_logo.jpg}
      \end{column}
      \begin{column}{.73\paperwidth}
		\vspace{1.5cm}
        \usebeamercolor{title in headline}{\color{fg}\huge{\inserttitle}\\[1ex]}
        \usebeamercolor{author in headline}{\color{fg}\large{\insertauthor}\\[1ex]}
        \usebeamercolor{institute in headline}{\color{fg}\large{\insertinstitute}\\[1ex]}     
      \end{column}
      \begin{column}{.01\paperwidth}
	  \end{column}
    \end{columns}
	\vspace{1cm}
  \end{beamercolorbox}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{footline}{
  \begin{beamercolorbox}[leftskip=1cm,rightskip=1cm]{footline}%
	\vspace{0.5cm}
	\begin{columns}[T]
	  \begin{column}{.01\paperwidth}
	  \end{column}
	  \begin{column}{.3\paperwidth}
		\scriptsize
		Funded by the European Union. 
		Views and opinions expressed are however those of the author(s) only and do not necessarily reflect those of the European Union or European Research Executive Agency (REA). 
		Neither the European Union nor the granting authority can be held responsible for them.
	  \end{column}
	  \begin{column}{.01\paperwidth}
	  \end{column}
	  \begin{column}{.40\paperwidth}
		\begin{columns}[T]
		  \begin{column}{.15\linewidth}
			\includegraphics[height=.95\linewidth]{figures/marie_curie_actions_logo.png}
		  \end{column}
		  \begin{column}{.22\linewidth}
			\includegraphics[width=.95\linewidth]{figures/eu_flag.pdf}
		  \end{column}
		  \begin{column}{.22\linewidth}
			\vspace{1.2cm}
			\small
			Funded by the \\	
			European Union
		  \end{column}
		  \begin{column}{.41\linewidth}
			\centering
			\includegraphics[width=.95\linewidth]{\unilogopath}
		  \end{column}
		\end{columns}
	  \end{column}
	  \begin{column}{.01\paperwidth}
	  \end{column}
	  \begin{column}{.25\linewidth}
		\raggedleft
		\vfill
		\insertpresenter
	  \end{column}
	  \begin{column}{.01\paperwidth}
	  \end{column}
	\end{columns}
	\vspace{0.5cm}
  \end{beamercolorbox}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mode<all>

